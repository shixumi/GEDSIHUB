@model GedsiHub.Models.Assessment

@{
    Layout = "_LayoutApp";
    ViewData["Title"] = "Take the Assessment";
}

<!-- Assessment Details Page -->
<div>
    <!-- Breadcrumbs -->
    <ol class="breadcrumb" id="breadcrumb">
        <li class="breadcrumb-item">
            <!-- Link to the list of modules -->
            <a asp-controller="Module" asp-action="Index"><span>Modules</span></a>
        </li>
        <li class="breadcrumb-item">
            <!-- Link to the module details page -->
            <a asp-action="Details" asp-controller="Module" asp-route-id="@ViewBag.ModuleId">
                <span id="module_number" class="module_number">@ViewBag.ModuleTitle</span>
            </a>
        </li>
        <!-- Current assessment title -->
        <li class="breadcrumb-item">
            <span id="cms_lesson_breadcrumb"><span id="lesson_number" class="module_number">@Model.Title</span></span>
        </li>
    </ol>

    <!-- Assessment Title -->
    <span id="added_module_title" class="added_module_title">@Model.Title</span>



    <div class="cms_white_base_container" style="margin-bottom: 2.5rem;">
        <div class="d-flex align-content-center congratulatory-header">
            
            <h4 class="card-title">
               
                <img src="~/images/Party-popper.png" alt="Party Popper" class="party_popper_img" />
                Congratulations on completing the
                <span id="module_number" class="module_number">@ViewBag.ModuleTitle Module</span>
                <img src="~/images/Party-popper.png" alt="Party Popper" class="party_popper_img" />
            </h4>
        </div>
        <div>
            <p class="card-text">To help reinforce what you've learned, please take a few moments to answer the following questions. This test is designed to assess your understanding of the material covered. Select or input your answers, and click "Submit" when you're ready. </p>
            
        </div>
        
    </div>
        
    <!-- White Container for the assessment content -->
    <div class="cms_white_base_container">
        <!-- Preview of the H5P content -->
        @if (!string.IsNullOrEmpty(Model.H5PEmbedCode))
        {
            <div id="responsive-iframe" class="embed-responsive responsive-iframe">
                @Html.Raw(Model.H5PEmbedCode)
            </div>
        }

        <!-- Buttons for managing assessment content (if user is Admin) -->
        @if (User.IsInRole("Admin"))
        {
            <div class="lesson_content_buttons">
                <!-- Edit Button (Using ASP.NET Route Helpers) -->
                <a asp-action="Edit" asp-controller="Assessment" asp-route-id="@Model.AssessmentId" class="editLessonContentButton">
                    <i class="f-icon la la-edit"></i> Edit
                </a>

                <!-- Delete Button as a Form -->
                <form asp-action="DeleteConfirmed" asp-controller="Assessment" method="post" class="d-inline">
                    @Html.AntiForgeryToken() <!-- Include Anti-Forgery Token for security -->
                    <input type="hidden" name="id" value="@Model.AssessmentId" />
                    <button type="submit" class="deleteLessonContentButton">
                        <i class="f-icon la la-trash"></i> Delete
                    </button>
                </form>
            </div>
        }
    </div>
</div>
